# Zgine 项目统计脚本

这个目录包含了用于分析 Zgine 项目代码库的 Perl 统计脚本。

## 脚本列表

### 1. `count_files.pl` - 文件数量统计
统计项目中的文件数量和类型分布。

**功能:**
- 统计总文件数
- 按文件扩展名分类统计
- 识别主要代码文件类型
- 计算文件类型占比

**使用方法:**
```bash
perl scripts/count_files.pl
```

### 2. `count_lines.pl` - 代码行数统计
统计项目中的代码行数、注释行数、空行数。

**功能:**
- 统计总行数、代码行数、注释行数、空行数
- 按编程语言分类统计
- 支持多种编程语言的注释识别
- 计算代码密度和注释率

**使用方法:**
```bash
perl scripts/count_lines.pl
```

### 3. `project_overview.pl` - 项目概览统计
提供项目的全面统计信息和健康度评估。

**功能:**
- 基本统计信息（文件数、目录数、总大小）
- 文件修改时间分析
- 按文件类型分类统计
- 项目健康度评估
- 代码结构分析

**使用方法:**
```bash
perl scripts/project_overview.pl
```

### 4. `analyze_file_types.pl` - 文件类型分析
详细分析不同类型的文件分布。

**功能:**
- 按预定义类型分类文件
- 使用图标美化输出
- 项目特点分析
- 项目类型判断

**使用方法:**
```bash
perl scripts/analyze_file_types.pl
```

### 5. `run_stats.pl` - 主控制脚本
提供交互式菜单来运行所有统计脚本。

**功能:**
- 检查脚本文件可用性
- 提供交互式菜单
- 支持单独运行或批量运行所有脚本

**使用方法:**
```bash
perl scripts/run_stats.pl
```

## 系统要求

- Perl 5.10 或更高版本
- 以下 Perl 模块（通常随 Perl 一起安装）:
  - `File::Find`
  - `File::Spec`
  - `Time::Piece`

## 排除规则

所有脚本都会自动排除以下目录和文件类型：

**排除的目录:**
- `.git`
- `bin`
- `bin-int`
- `vendor`
- `.cursor`
- `node_modules`
- `build`
- `dist`
- `obj`
- `Debug`
- `Release`

**排除的文件扩展名:**
- `.exe`, `.dll`, `.lib`
- `.obj`, `.pdb`, `.idb`
- `.tlog`, `.log`
- `.ini`, `.user`, `.filters`

## 快速开始

1. 确保你在项目根目录 (`C:\C\Zgine`)
2. 运行主控制脚本：
   ```bash
   perl scripts/run_stats.pl
   ```
3. 选择要运行的统计脚本或选择 "0" 运行所有脚本

## 输出示例

### 文件数量统计输出示例：
```
=== Zgine 项目文件统计 ===

总文件数: 156

按文件类型分类:
----------------------------------------
.cpp        45 文件 (28.8%)
.h          38 文件 (24.4%)
.hpp        12 文件 ( 7.7%)
.json        8 文件 ( 5.1%)
.md          6 文件 ( 3.8%)
.pl          5 文件 ( 3.2%)
...
```

### 代码行数统计输出示例：
```
=== Zgine 项目代码行数统计 ===

总体统计:
--------------------------------------------------
总文件数:     83 个
总行数:     15642 行
代码行数:   12456 行 (79.6%)
注释行数:    2156 行 (13.8%)
空行数:     1030 行 ( 6.6%)

按编程语言分类:
--------------------------------------------------------------------------------
语言         文件   总行数   代码行   注释行   空行
--------------------------------------------------------------------------------
C++          83   15642   12456    2156    1030
```

## 注意事项

1. 脚本会递归扫描整个项目目录
2. 大型项目可能需要较长时间完成统计
3. 确保有足够的磁盘空间和内存
4. 脚本输出是只读的，不会修改任何项目文件

## 自定义

你可以根据需要修改脚本中的排除规则、文件类型定义或输出格式。所有脚本都使用标准的 Perl 语法，易于理解和修改。
